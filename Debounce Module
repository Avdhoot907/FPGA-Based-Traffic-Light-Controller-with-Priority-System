module debounce(
input clk, rst_n, btn_in,
output reg btn_out
);
parameter integer TH = 50_000; // depends on clk
reg [31:0] cnt;
reg sync0, sync1;
always @(posedge clk) begin
sync0 <= btn_in; sync1 <= sync0;
if(sync1==btn_out) cnt<=0; else begin cnt<=cnt+1; if(cnt>=TH) btn_out<=sync1; end
end
endmodule
